{"version":3,"sources":["../../src/server/index.js"],"names":["admin","require","functions","next","initializeApp","dev","process","env","NODE_ENV","app","conf","distDir","handle","getRequestHandler","nextjsServer","https","onRequest","request","response","console","log","originalUrl","prepare","then","nextjs","module","exports"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,gBAAD,CAArB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,oBAAD,CAAzB;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;AAGAD,KAAK,CAACI,aAAN;AAEA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAArC;AACA,MAAMC,GAAG,GAAGN,IAAI,CAAC;AACfE,EAAAA,GADe;AAEf;AACA;AACAK,EAAAA,IAAI,EAAE;AAAEC,IAAAA,OAAO,EAAE;AAAX;AAJS,CAAD,CAAhB;AAMA,MAAMC,MAAM,GAAGH,GAAG,CAACI,iBAAJ,EAAf;AAEA,MAAMC,YAAY,GAAGZ,SAAS,CAACa,KAAV,CAAgBC,SAAhB,CAA0B,CAACC,OAAD,EAAUC,QAAV,KAAuB;AACpE;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAWH,OAAO,CAACI,WAA/B;AACA,SAAOZ,GAAG,CAACa,OAAJ,GAAcC,IAAd,CAAmB,MAAMX,MAAM,CAACK,OAAD,EAAUC,QAAV,CAA/B,CAAP;AACD,CAJoB,CAArB;AAOA,MAAMM,MAAM,GAAG;AACbV,EAAAA;AADa,CAAf;AAIAW,MAAM,CAACC,OAAP,GAAiBF,MAAjB","sourcesContent":["const admin = require(\"firebase-admin\");\nconst functions = require('firebase-functions');\nconst next = require(\"next\");\n\n\nadmin.initializeApp();\n\nconst dev = process.env.NODE_ENV !== \"production\";\nconst app = next({\n  dev,\n  // the absolute directory from the package.json file that initialises this module\n  // IE: the absolute path from the root of the Cloud Function\n  conf: { distDir: \"dist/client\" },\n});\nconst handle = app.getRequestHandler();\n\nconst nextjsServer = functions.https.onRequest((request, response) => {\n  // log the page.js file or resource being requested\n  console.log(\"File: \" + request.originalUrl);\n  return app.prepare().then(() => handle(request, response));\n});\n\n\nconst nextjs = {\n  nextjsServer,\n};\n\nmodule.exports = nextjs;\n"],"file":"index.js"}